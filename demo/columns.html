<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Datatable Enhanced by SneakyBobito</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Datatable Enhanced</h1>
          <h2>A jquery Datatable Wrapper</h2>
          <h3>Columns Configuration Example</h3>
        </header>


        <hr>

        <section id="main_content">
          
          <div id="tableWrapper"></div>
          
          <script>
            var table = new dtEnhanced.Ajaxtable({
  
                ajax:{
                  url : "/jquery.datatable.enhanced-control/dataset.json"
                }
            
                "childContent" : function(set,data){
                  
                  var html = "<div><img src='" + set.picture + "' /></div>";
                  html += "<div>" + set.greeting + "</div>"
  
                  var tags = set.tags;
                  html += "<div>Tags : </div><ul>";
                  for(var i in tags){
                      html += "<li>" + tags[i] + "</li>";
                  }
                  
                  html += "</ul>";
                  
                  
                }
                
                "columns"        : [
                
                  "x",  // this will create a selection checkbox
                  "+",  // this will create a row details opener
                  {
                    "name"   : "id", // name of the parameter in the datataset
                    "header" : "#"   // what to show in the column header (detaultly same as "name" option)
                    "type"   : "numeric" // used for sorting and filtering
                  },
                  {
                    "name"   : "friend",
                    "render" : function(value,set,data){
                      return value.length;
                    },
                    "type"   : "numeric"
                  },
                  {
                    "header"   : "",
                    "type"   : "+",
                    "childContent" : function(set,items){
                      var friends = set.friends;
                      var html = "<ul>";
                      
                      for(var i in friends){
                          html += "<li><a href='#/some/link/to/friend?id=" + friends[i].name + "'>" + friends[i].name + "</a></li>";
                      }
                      
                      html += "</ul>";
                      
                      return html;
                      
                    }
                  }
                
                ],
            
                // Do something when the selection changes
                "selectionChange" : function(){
                    alert("Selection Changed : " + this.getSelection().length + " items selected" );
                    
                },
            
                // Defines if the rows are selectable
                // Possible values :
                //  - "single"  : only one row can be selected
                //  - "multi"   : unbound number of rows can be selected
                //  - false     : no selection
                //  - int value : define the max number of rows that can be selected
                "selectable"    : "multi",
                
                // used for "keepSelection" option
                idField : "id",
                
                // keep selection across page changes and reload (mainly usefull for ajax and server table)
                "keepSelection" : true
                
            });
            
            table.show("#tableWrappe");
          </script>
        </section>
        
      </div>
    </div>
  </body>
</html>
